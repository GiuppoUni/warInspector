<!DOCTYPE html>
<html>

<head>
    <meta charset="=utf-8">

    <!-- <<<<< Imports -->
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="static/bootstrap4.5/css/bootstrap.min.css" crossorigin="anonymouse" />

    <script src="https://cdn.jsdelivr.net/npm/evil-icons@1.9.0/assets/evil-icons.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/evil-icons@1.9.0/assets/evil-icons.min.css">
    <script src="static/js/libraries/d3-scale-radial.js"></script>


    <script src="static/js/libraries/d3v4.js"></script>
    <script src="static/js/libraries/d3-simple-slider.min.js"></script>
    <script src="static/js/libraries/d3-legend.js"></script>
    <script src="static/js/libraries/d3-scale-chromatic.v1.min.js"></script>

    <script src="/static/js/libraries/d3v4-tip.js"></script>



    <!-- My Modules  -->
    <script src="static/js/MapComponentsManager.js"></script>
    <script src="static/js/Main.js"></script>
    <script src="static/js/ChartManager.js"></script>
    <script src="static/js/MapManager.js"></script>
    <!-- <script src="static/js/RankRaceManager.js"></script> -->
    <script src="static/js/PcaScatterManager.js"></script>

    <!-- <script src="static/js/CircularManager.js"></script> -->


    <!-- >>>>> -->
    <link rel="stylesheet" href="static/css/style.css">

    <!-- Favico -->
    <link rel="icon" type="image/png" href="/static/icons/favicon.png" />

    <title>WarInspector</title>
    <link rel="shortcut icon" href="static/icons/valogo.ico" />


</head>


<body onload="main()">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

    <div class="pos-f-t">

        <nav class="navbar fixed-top navbar-dark bg-dark">
            <button type="button" onclick="toggler()" id="hamburger" class=" btn btn-dark navbar-toggler " type="button" data-toggle="offcanvas" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa fa-bars" style="color: aliceblue;;" aria-hidden="true"><div style="display: inline;">&nbspMenu</div> </i>
                
            </button>
            <a class="navbar-brand" href="#"></a>


            <div class="row" style="float:left; margin-left: 15px">

                <img src="static/icons/valogo.png" width="50" />
                <h4 style="    margin-top:auto; margin-left: 15px;color: aliceblue;">WarInspector</h4>
            </div>
            <div class="row" style="float: right;margin-right: 10px;">
                <!-- <img width="30px" src="static/icons/search.png" /> -->

                <div data-icon="ei-search" data-size="m" style="    margin-left: 100px;"></div>
                <select id="selectNation" class="selectpicker" data-width="800px" multiple data-live-search="true" data-size="4" data-actions-box="true" title="Choose one or more country..." onchange="clickedNation()">
                <option value=ZYY>ğŸ³  (multiple sellers)</option><option value=AFG>ğŸ‡¦ğŸ‡«  Afghanistan</option><option value=ALB>ğŸ‡¦ğŸ‡±  Albania</option><option value=DZA>ğŸ‡©ğŸ‡¿  Algeria</option><option value=ASM>ğŸ‡¦ğŸ‡¸  American Samoa</option><option value=AND>ğŸ‡¦ğŸ‡©  Andorra</option><option value=AGO>ğŸ‡¦ğŸ‡´  Angola</option><option value=AIA>ğŸ‡¦ğŸ‡®  Anguilla</option><option value=ATG>ğŸ‡¦ğŸ‡¬  Antigua & Barbuda</option><option value=ARG>ğŸ‡¦ğŸ‡·  Argentina</option><option value=ARM>ğŸ‡¦ğŸ‡²  Armenia</option><option value=ABW>ğŸ‡¦ğŸ‡¼  Aruba</option><option value=AUS>ğŸ‡¦ğŸ‡º  Australia</option><option value=AUT>ğŸ‡¦ğŸ‡¹  Austria</option><option value=AZE>ğŸ‡¦ğŸ‡¿  Azerbaijan</option><option value=BHS>ğŸ‡§ğŸ‡¸  Bahamas</option><option value=BHR>ğŸ‡§ğŸ‡­  Bahrain</option><option value=BGD>ğŸ‡§ğŸ‡©  Bangladesh</option><option value=BRB>ğŸ‡§ğŸ‡§  Barbados</option><option value=BLR>ğŸ‡§ğŸ‡¾  Belarus</option><option value=BEL>ğŸ‡§ğŸ‡ª  Belgium</option><option value=BLZ>ğŸ‡§ğŸ‡¿  Belize</option><option value=BEN>ğŸ‡§ğŸ‡¯  Benin</option><option value=BMU>ğŸ‡§ğŸ‡²  Bermuda</option><option value=BTN>ğŸ‡§ğŸ‡¹  Bhutan</option><option value=BTN>ğŸ‡§ğŸ‡¹  Bhutan</option><option value=BOL>ğŸ‡§ğŸ‡´  Bolivia</option><option value=BIH>ğŸ‡§ğŸ‡¦  Bosnia-Herzegovina</option><option value=BWA>ğŸ‡§ğŸ‡¼  Botswana</option><option value=BRA>ğŸ‡§ğŸ‡·  Brazil</option><option value=BRN>ğŸ‡§ğŸ‡³  Brunei</option><option value=BGR>ğŸ‡§ğŸ‡¬  Bulgaria</option><option value=BFA>ğŸ‡§ğŸ‡«  Burkina Faso</option><option value=BDI>ğŸ‡§ğŸ‡®  Burundi</option><option value=KHM>ğŸ‡°ğŸ‡­  Cambodia</option><option value=CMR>ğŸ‡¨ğŸ‡²  Cameroon</option><option value=CAN>ğŸ‡¨ğŸ‡¦  Canada</option><option value=ZKK>ğŸ‡®ğŸ‡¨  Canary Islands</option><option value=CPV>ğŸ‡¨ğŸ‡»  Cape Verde</option><option value=CYM>ğŸ‡°ğŸ‡¾  Cayman Islands</option><option value=CAF>ğŸ‡¨ğŸ‡«  Central African Republic</option><option value=TCD>ğŸ‡¹ğŸ‡©  Chad</option><option value=CHL>ğŸ‡¨ğŸ‡±  Chile</option><option value=CHN>ğŸ‡¨ğŸ‡³  China</option><option value=CXR>ğŸ‡¨ğŸ‡½  Christmas Island</option><option value=COL>ğŸ‡¨ğŸ‡´  Colombia</option><option value=COM>ğŸ‡°ğŸ‡²  Comoros</option><option value=COK>ğŸ‡¨ğŸ‡°  Cook Islands</option><option value=CRI>ğŸ‡¨ğŸ‡·  Costa Rica</option><option value=HRV>ğŸ‡­ğŸ‡·  Croatia</option><option value=CUB>ğŸ‡¨ğŸ‡º  Cuba</option><option value=CYP>ğŸ‡¨ğŸ‡¾  Cyprus</option><option value=CZE>ğŸ‡¨ğŸ‡¿  Czechia</option><option value=COD>ğŸ‡¨ğŸ‡©  Democratic Republic Of Congo</option><option value=DNK>ğŸ‡©ğŸ‡°  Denmark</option><option value=DJI>ğŸ‡©ğŸ‡¯  Djibouti</option><option value=DMA>ğŸ‡©ğŸ‡²  Dominica</option><option value=DMA>ğŸ‡©ğŸ‡´  Dominican Republic</option><option value=TLS>ğŸ‡¹ğŸ‡±  East Timor</option><option value=ECU>ğŸ‡ªğŸ‡¨  Ecuador</option><option value=EGY>ğŸ‡ªğŸ‡¬  Egypt</option><option value=GBR>ğŸ´ó §ó ¢ó ¥ó ®ó §ó ¿  England</option><option value=GIN>ğŸ‡¬ğŸ‡¶  Equatorial Guinea</option><option value=GNQ>ğŸ‡¬ğŸ‡¶ <option value=GIN>ğŸ‡¬ğŸ‡¶  Equatorial Guinea</option></option><option value=ERI>ğŸ‡ªğŸ‡·  Eritrea</option><option value=EST>ğŸ‡ªğŸ‡ª  Estonia</option><option value=ETH>ğŸ‡ªğŸ‡¹  Ethiopia</option><option value=ZZZ>ğŸ³  Europe multi-state</option><option value=ZZZ>ğŸ‡ªğŸ‡º  European Union</option><option value=GBR>ğŸ‡«ğŸ‡°  Falkland Islands</option><option value=FRO>ğŸ‡«ğŸ‡´  Faroe Islands</option><option value=FJI>ğŸ‡«ğŸ‡¯  Fiji</option><option value=FIN>ğŸ‡«ğŸ‡®  Finland</option><option value=FRA>ğŸ‡«ğŸ‡·  France</option><option value=PYF>ğŸ‡µğŸ‡«  French Polynesia</option><option value=GAB>ğŸ‡¬ğŸ‡¦  Gabon</option><option value=GMB>ğŸ‡¬ğŸ‡²  Gambia</option><option value=GEO>ğŸ‡¬ğŸ‡ª  Georgia</option><option value=DEU>ğŸ‡©ğŸ‡ª  Germany</option><option value=GHA>ğŸ‡¬ğŸ‡­  Ghana</option><option value=GIB>ğŸ‡¬ğŸ‡®  Gibraltar</option><option value=GRC>ğŸ‡¬ğŸ‡·  Greece</option><option value=GRL>ğŸ‡¬ğŸ‡±  Greenland</option><option value=GRD>ğŸ‡¬ğŸ‡©  Grenada</option><option value=GUM>ğŸ‡¬ğŸ‡º  Guam</option><option value=GTM>ğŸ‡¬ğŸ‡¹  Guatemala</option><option value=GGY>ğŸ‡¬ğŸ‡¬  Guernsey</option><option value=GIN>ğŸ‡¬ğŸ‡³  Guinea</option><option value=GUY>ğŸ‡¬ğŸ‡¾  Guyana</option><option value=HTI>ğŸ‡­ğŸ‡¹  Haiti</option><option value=USA>ğŸ‡ºğŸ‡¸  Hawaii</option><option value=HND>ğŸ‡­ğŸ‡³  Honduras</option><option value=HKG>ğŸ‡­ğŸ‡°  Hong Kong</option><option value=HUN>ğŸ‡­ğŸ‡º  Hungary</option><option value=ISL>ğŸ‡®ğŸ‡¸  Iceland</option><option value=IND>ğŸ‡®ğŸ‡³  India</option><option value=IDN>ğŸ‡®ğŸ‡©  Indonesia</option><option value=IRN>ğŸ‡®ğŸ‡·  Iran</option><option value=IRQ>ğŸ‡®ğŸ‡¶  Iraq</option><option value=IRL>ğŸ‡®ğŸ‡ª  Ireland</option><option value=IMN>ğŸ‡®ğŸ‡²  Isle of Man</option><option value=ISR>ğŸ‡®ğŸ‡±  Israel</option><option value=ITA>ğŸ‡®ğŸ‡¹  Italy</option><option value=JAM>ğŸ‡¯ğŸ‡²  Jamaica</option><option value=JPN>ğŸ‡¯ğŸ‡µ  Japan</option><option value=JEY>ğŸ‡¯ğŸ‡ª  Jersey</option><option value=JOR>ğŸ‡¯ğŸ‡´  Jordan</option><option value=KAZ>ğŸ‡°ğŸ‡¿  Kazakhstan</option><option value=KEN>ğŸ‡°ğŸ‡ª  Kenya</option><option value=KIR>ğŸ‡°ğŸ‡®  Kiribati</option><option value=XKX>ğŸ‡½ğŸ‡°  Kosovo</option><option value=KWT>ğŸ‡°ğŸ‡¼  Kuwait</option><option value=KGZ>ğŸ‡°ğŸ‡¬  Kyrgyzstan</option><option value=LAO>ğŸ‡±ğŸ‡¦  Laos</option><option value=LVA>ğŸ‡±ğŸ‡»  Latvia</option><option value=LBN>ğŸ‡±ğŸ‡§  Lebanon</option><option value=LSO>ğŸ‡±ğŸ‡¸  Lesotho</option><option value=LBR>ğŸ‡±ğŸ‡·  Liberia</option><option value=LBY>ğŸ‡±ğŸ‡¾  Libya</option><option value=LIE>ğŸ‡±ğŸ‡®  Liechtenstein</option><option value=LTU>ğŸ‡±ğŸ‡¹  Lithuania</option><option value=LUX>ğŸ‡±ğŸ‡º  Luxembourg</option><option value=MDG>ğŸ‡²ğŸ‡¬  Madagascar</option><option value=MWI>ğŸ‡²ğŸ‡¼  Malawi</option><option value=MYS>ğŸ‡²ğŸ‡¾  Malaysia</option><option value=MDV>ğŸ‡²ğŸ‡»  Maldives</option><option value=MLI>ğŸ‡²ğŸ‡±  Mali</option><option value=MLT>ğŸ‡²ğŸ‡¹  Malta</option><option value=MTQ>ğŸ‡²ğŸ‡¶  Martinique</option><option value=MRT>ğŸ‡²ğŸ‡·  Mauritania</option><option value=MUS>ğŸ‡²ğŸ‡º  Mauritius</option><option value=MEX>ğŸ‡²ğŸ‡½  Mexico</option><option value=FSM>ğŸ‡«ğŸ‡²  Micronesia</option><option value=MDA>ğŸ‡²ğŸ‡©  Moldova</option><option value=MCO>ğŸ‡²ğŸ‡¨  Monaco</option><option value=MNG>ğŸ‡²ğŸ‡³  Mongolia</option><option value=MNE>ğŸ‡²ğŸ‡ª  Montenegro</option><option value=MSR>ğŸ‡²ğŸ‡¸  Montserrat</option><option value=MAR>ğŸ‡²ğŸ‡¦  Morocco</option><option value=MOZ>ğŸ‡²ğŸ‡¿  Mozambique</option><option value=NAM>ğŸ‡³ğŸ‡¦  Namibia</option><option value=NAT>ğŸ³  Nato</option><option value=NRU>ğŸ‡³ğŸ‡·  Nauru</option><option value=NPL>ğŸ‡³ğŸ‡µ  Nepal</option><option value=NLD>ğŸ‡³ğŸ‡±  Netherlands</option><option value=NZL>ğŸ‡³ğŸ‡¿  New Zealand</option><option value=NIC>ğŸ‡³ğŸ‡®  Nicaragua</option><option value=NER>ğŸ‡³ğŸ‡ª  Niger</option><option value=NER>ğŸ‡³ğŸ‡¬  Nigeria</option><option value=NIU>ğŸ‡³ğŸ‡º  Niue</option><option value=NFK>ğŸ‡³ğŸ‡«  Norfolk Island</option><option value=PRK>ğŸ‡°ğŸ‡µ  North Korea</option><option value=NOR>ğŸ‡³ğŸ‡´  Norway</option><option value=OMN>ğŸ‡´ğŸ‡²  Oman</option><option value=PAK>ğŸ‡µğŸ‡°  Pakistan</option><option value=PLW>ğŸ‡µğŸ‡¼  Palau</option><option value=PSE>ğŸ³  Palestine</option><option value=PAN>ğŸ‡µğŸ‡¦  Panama</option><option value=GIN>ğŸ‡µğŸ‡¬  Papua New Guinea</option><option value=PRY>ğŸ‡µğŸ‡¾  Paraguay</option><option value=PER>ğŸ‡µğŸ‡ª  Peru</option><option value=PHL>ğŸ‡µğŸ‡­  Philippines</option><option value=PCN>ğŸ‡µğŸ‡³  Pitcairn Islands</option><option value=POL>ğŸ‡µğŸ‡±  Poland</option><option value=POL>ğŸ‡µğŸ‡±  Poland</option><option value=PRT>ğŸ‡µğŸ‡¹  Portugal</option><option value=PRI>ğŸ‡µğŸ‡·  Puerto Rico</option><option value=QAT>ğŸ‡¶ğŸ‡¦  Qatar</option><option value=COD>ğŸ‡¨ğŸ‡¬  Republic Of Congo</option><option value=ROU>ğŸ‡·ğŸ‡´  Romania</option><option value=RUS>ğŸ‡·ğŸ‡º  Russia</option><option value=RWA>ğŸ‡·ğŸ‡¼  Rwanda</option><option value=SLV>ğŸ‡¸ğŸ‡»  El Salvador</option><option value=WSM>ğŸ‡¼ğŸ‡¸  Samoa</option><option value=SMR>ğŸ‡¸ğŸ‡²  San Marino</option><option value=SAU>ğŸ‡¸ğŸ‡¦  Saudi Arabia</option><option value=GBR>ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿  Scotland</option><option value=SEN>ğŸ‡¸ğŸ‡³  Senegal</option><option value=SRB>ğŸ‡·ğŸ‡¸  Serbia</option><option value=SYC>ğŸ‡¸ğŸ‡¨  Seychelles</option><option value=SLE>ğŸ‡¸ğŸ‡±  Sierra Leone</option><option value=SGP>ğŸ‡¸ğŸ‡¬  Singapore</option><option value=ZKY>ğŸ‡¸ğŸ‡½  Sint Maarten</option><option value=SVK>ğŸ‡¸ğŸ‡°  Slovakia</option><option value=SVN>ğŸ‡¸ğŸ‡®  Slovenia</option><option value=SLB>ğŸ‡¸ğŸ‡§  Solomon Islands</option><option value=SOM>ğŸ‡¸ğŸ‡´  Somalia</option><option value=SOM>ğŸ³  Somaliland</option><option value=ZAF>ğŸ‡¿ğŸ‡¦  South Africa</option><option value=KOR>ğŸ‡°ğŸ‡·  South Korea</option><option value=SDN>ğŸ‡¸ğŸ‡¸  South Sudan</option><option value=SDN>ğŸ‡¸ğŸ‡¸ <option value=SDN>ğŸ‡¸ğŸ‡¸  South Sudan</option></option><option value=ESP>ğŸ‡ªğŸ‡¸  Spain</option><option value=LKA>ğŸ‡±ğŸ‡°  Sri Lanka</option><option value=SDN>ğŸ‡¸ğŸ‡©  Sudan</option><option value=SUR>ğŸ‡¸ğŸ‡· Suriname</option><option value=SWZ>ğŸ‡¸ğŸ‡¿  Swaziland</option><option value=SWE>ğŸ‡¸ğŸ‡ª  Sweden</option><option value=CHE>ğŸ‡¨ğŸ‡­  Switzerland</option><option value=SYR>ğŸ‡¸ğŸ‡¾  Syria</option><option value=TWN>ğŸ‡¹ğŸ‡¼  Taiwan</option><option value=TJK>ğŸ‡¹ğŸ‡¯  Tajikistan</option><option value=TZA>ğŸ‡¹ğŸ‡¿  Tanzania</option><option value=THA>ğŸ‡¹ğŸ‡­  Thailand</option><option value=CHN>ğŸ³  Tibet</option><option value=TGO>ğŸ‡¹ğŸ‡¬  Togo</option><option value=TKL>ğŸ‡¹ğŸ‡°  Tokelau</option><option value=TON>ğŸ‡¹ğŸ‡´  Tonga</option><option value=TTO>ğŸ‡¹ğŸ‡¹  Trinidad & Tobago</option><option value=TUN>ğŸ‡¹ğŸ‡³  Tunisia</option><option value=TUR>ğŸ‡¹ğŸ‡·  Turkey</option><option value=TKM>ğŸ‡¹ğŸ‡²  Turkmenistan</option><option value=TCA>ğŸ‡¹ğŸ‡¨  Turks And Caicos Islands</option><option value=TUV>ğŸ‡¹ğŸ‡»  Tuvalu</option><option value=ARE>ğŸ‡¦ğŸ‡ª  United Arab Emirates</option><option value=UGA>ğŸ‡ºğŸ‡¬  Uganda</option><option value=UKR>ğŸ‡ºğŸ‡¦  Ukraine</option><option value=GBR>ğŸ‡¬ğŸ‡§  United Kingdom</option><option value=ONU>ğŸ‡ºğŸ‡³  United Nations</option><option value=USA>ğŸ‡ºğŸ‡¸  United States</option><option value=ZXX>ğŸ³  Unknown supplier(s)</option><option value=URY>ğŸ‡ºğŸ‡¾  Uruguay</option><option value=UZB>ğŸ‡ºğŸ‡¿  Uzbekistan</option><option value=VUT>ğŸ‡»ğŸ‡º  Vanuatu</option><option value=VAT>ğŸ‡»ğŸ‡¦  Vatican City</option><option value=VEN>ğŸ‡»ğŸ‡ª  Venezuela</option><option value=VNM>ğŸ‡»ğŸ‡³  Vietnam</option><option value=GBR>ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿  Wales</option><option value=ESH>ğŸ‡ªğŸ‡­  Western Sahara</option><option value=YEM>ğŸ‡¾ğŸ‡ª  Yemen</option><option value=ZMB>ğŸ‡¿ğŸ‡²  Zambia</option><option value=ZWE>ğŸ‡¿ğŸ‡¼  Zimbabwe</option>                
            </select>

            </div>

        </nav>
    </div>





    <div id="map_slider" class="row" style="width: 100%; height:100%; margin: 0 auto; background-color: black;"></div>
    <div id="slider-range"></div>

    <div class="container-fluid my-container">

        <div class="row my-row">
            <div class="col-md-auto my-col-up">
                <div class="card bg-dark">
                    <div class="card-header  d-flex align-items-center justify-content-center text-center">
                        Num. of weapons&nbsp
                        <h7 style="color: #d00101">IMPORTED</h7> &nbspinto &nbsp
                        <div class="shadowText" style="display:inline-block ;"> selected countries</div>
                    </div>
                    <div class="card-body" id="map-imp-col">

                    </div>
                </div>
            </div>
            <div class="col-md-auto my-col-up">

                <div class="card bg-dark">
                    <div class="card-header  d-flex align-items-center justify-content-center  text-center">
                        Num. of weapons&nbsp
                        <h7 style="color: #009344">EXPORTED</h7> &nbspinto &nbsp
                        <div class="shadowText" style="display:inline-block ;">selected countries</div>

                    </div>
                    <div class="card-body" id="map-exp-col">

                    </div>
                </div>

            </div>
            <div class="col-md-auto  my-col-up">
                <div class="container">
                    <div class="row">
                        <div class="card bg-dark infoCard" style="width: 350px;">
                            <div class="card-header  d-flex align-items-center justify-content-center   text-center">
                                General info
                            </div>
                            <div class="card-body" id="general-info">
                                <div class="container table-responsive  rounded shadow" style="width: 340px;background-color: rgb(20, 20, 20);" id="info-container">
                                    <table class="table table-fixed" id="tablePIL">
                                        <thead>
                                            <tr>
                                                <th scope="col" class="col-xs-1">Country</th>
                                                <th scope="col" class="col-xs-3">GDP (AVG)</th>
                                                <th scope="col" class="col-xs-3">Population (AVG)</th>
                                                <th scope="col" class="col-xs-3">Army dim.(AVG)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr id="ITA-line">
                                                <td class="col-xs-1">ITA</td>
                                                <td class="col-xs-3">32584</td>
                                                <td class="col-xs-3">60528656</td>
                                                <td class="col-xs-3">351925</td>


                                            </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row " style="padding-left:20px;padding-top: 20px;;">

                    <div>
                        <input type="image" id="homeButton" width="30" src="static/icons/home.png" onclick="callResetZoom()" />
                        <span class="tooltiptext">Reset map zoom</span>
                    </div>
                    <div style="padding-left: 10px;">
                        <input type="image" id="resetButton" width="30" src="static/icons/reset3.png" onclick="resetSelect()" />
                        <span class="tooltiptext">Reset selection</span>
                    </div>

                </div>


            </div>
        </div>

        <!-- Seconda riga -->
        <div class="row my-row ">
            <div class="col-md-4-5 my-col-down">


                <div class="card bg-dark" id="charts-div">
                    <div class="card-body" style="display: inline-block;   padding-left: 0px;">
                        <div class="container">
                            <div class="row ">

                                <div class="col rounded" style="padding-right: 30px;">

                                    <div class="chartExtCont" style="  height: 100%; text-align: center;">

                                        <div id="chart-container">
                                            <svg id="chart-svg"></svg>
                                        </div>

                                    </div>
                                </div>
                                <div class="col rounded" id=pca-import-col style="background-color: rgb(20, 20, 20); padding-left: 0px;">
                                    <div class="center lds-facebook justify-content-center" id="load-anim">
                                        Computing PCA...
                                        <div></div>
                                        <div></div>
                                        <div></div>
                                    </div>
                                    <div class="bg-dark" style="left: 287px;top:270px; position:absolute">
                                        <input type="image" id="homeButton" style="padding-left: 2px; padding-top: 2px; position:relative" width="30" src="static/icons/home.png" onclick="callResetPCAZoom('IMP')" />
                                        <span class="tooltiptext">Reset zoom</span>
                                    </div>
                                    <div class="bg-dark" style="left: 300px;top:0px; position:absolute">
                                        <input type="image" id="infoButton" style="padding-left: 2px; padding-top: 2px; position:relative" width="20" src="static/icons/infoIcon.svg" />
                                        <span class="tooltiptext mini">Principal Component Analysis considering: 
                                            <ul>
                                                <li>population</li>
                                                <li>gdp</li>
                                                <li>army dimensions</li>
                                                <li>num. of refugees </li>
                                                <li>num. of imported weapons</li>
 
                                            </ul>
                                            
                                            </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="col-md-4-5  my-col-down ">
                <div class="card bg-dark" id="charts-div-rec">
                    <div class="card-body" style=" padding-left: 0px;">
                        <div class="container">
                            <div class="row">

                                <div class="col rounded" style="padding-right: 30px;">


                                    <div class="chartExtCont" style=" height: 100%; text-align: center;">

                                        <div id="chart-container-rec">
                                            <svg id="chart-svg-rec"></svg>
                                        </div>


                                    </div>
                                </div>
                                <div class="col rounded" id="pca-export-col" style="background-color: rgb(20, 20, 20); padding-left: 0px;">
                                    <div class="center lds-facebook justify-content-center" id="load-anim">
                                        Computing PCA...
                                        <div></div>
                                        <div></div>
                                        <div></div>
                                    </div>
                                    <div class="bg-dark" style="left: 288px;top:270px; position:absolute">
                                        <input type="image" id="homeButton" style="padding-left: 2px; padding-top: 2px; position:relative" width="30" src="static/icons/home.png" onclick="callResetPCAZoom('EXP')" />
                                        <span class="tooltiptext">Reset zoom</span>
                                    </div>
                                    <div class="bg-dark" style="left: 300px;top:0px; position:absolute">
                                        <input type="image" id="infoButton" style="padding-left: 2px; padding-top: 2px; position:relative" width="20" src="static/icons/infoIcon.svg" />
                                        <span class="tooltiptext mini">Principal Component Analysis considering: 
                                            <ul>
                                                <li>population</li>
                                                <li>gdp</li>
                                                <li>army dimensions</li>
                                                <li>num. of refugees </li>
                                                <li>num. of exported weapons</li>
 
                                            </ul>
                                            
                                            </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col my-col-down">
                <!-- <div class="card bg-dark" id="rankRace-container"> -->
                <!-- <div class="card-body" id="bubblesChart-container"> -->
                <div class="card bg-dark">
                    <div class="card-header  d-flex align-items-center justify-content-center  text-center">
                        Top 20 army dimensions

                    </div>
                    <div class="card-body">
                        <div style="background-color: rgb(20, 20, 20);" id="circular_viz">

                        </div>

                    </div>
                </div>

                <!-- BUTTONS OF RANK RACE -->
                <!-- <input type="image" id="resetRaceButton" width="50" src="static/icons/reset3.png" onclick="callResetRace()" />
                    <input type="image" id="playPauseRaceButton" width="50" src="static/icons/playpause.png" onclick="callStopRace()" /> -->
            </div>

        </div>

    </div>
    </div>

    <!-- CIRCULAR CHART -->
    <script>
        // set the dimensions and margins of the graph
        var margin = {
                top: 70,
                right: 0,
                bottom: 0,
                left: 0
            },
            width = 400 - margin.left - margin.right,
            height = 270 - margin.top - margin.bottom,
            innerRadius = 30,
            outerRadius = Math.min(width, height) / 2; // the outerRadius goes from the middle of the SVG area to the border

        // append the svg object

        // d3v4.csv("https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/7_OneCatOneNum.csv", function(data) {
        function drawCircular() {

            var svg = d3v4.select("#circular_viz")
                .append("svg")
                .attr("id", "circ-svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + (width / 2 + margin.left) + "," + (height / 2 + margin.top) + ")");

            d3v4.csv("static/data/army-dimensions-clean.csv", function(data) {
                var headers = d3v4.keys(data[0]);
                const cols = data.columns.filter(function(d) {
                    return parseInt(d) >= years[0] && parseInt(d) <= years[1] || d == "Country Name" || d == "Country Code";
                });
                // console.log("COLUMNS", columns)

                totals = {};

                newData = data.map(function(d) {
                    kk = ""
                    kn = ""
                    sum = 0
                    toBeSkipped = false
                    cols.forEach(function(k) {
                        if (k !== "Country Code" && k !== "Country Name") {
                            // E' un anno
                            sum += parseFloat(d[k]) || 0
                        } else if (k === "Country Code") {
                            if (allCountriesAlpha3.includes(d[k]))
                                kk = d[k]
                            else
                                toBeSkipped = true
                        } else if (k === "Country Name") {
                            kn = d[k]
                        }

                    });
                    if (toBeSkipped) avg = 0
                    else
                        avg = sum / (cols.length - 2)
                        // console.log(kk, avg)
                    return [kk, avg, kn]
                });

                // console.log(newData)

                data = newData.sort(function(a, b) {
                    return d3v4.descending(+a[1], +b[1]);
                }).slice(0, 20);
                if (DEBUG)
                    console.log(data)

                /************************************************************************************************************
                 * NOW YOU HAVE DATA TO BE PLOTTED, FORMAT : 
                 * ...
                 * [ COUNTRY CODE, VALUE AVG ARMY FOR RANGE OF YEARS , COUNTRY NAME ]
                 * ...*
                 ************************************************************************************************************/

                // Scales
                var x = d3v4.scaleBand()
                    .range([0, 2 * Math.PI]) // X axis goes from 0 to 2pi = all around the circle. If I stop at 1Pi, it will be around a half circle
                    .align(0) // This does nothing
                    .domain(data.map(function(d) {
                        return d[2];
                    })); // The domain of the X axis is the list of states.
                var y = d3v4.scaleRadial()
                    .range([innerRadius, outerRadius]) // Domain will be define later.
                    .domain([0, 14000]); // Domain of Y is from 0 to the max seen in the data

                // Add the bars
                svg.append("g")
                    .selectAll("path")
                    .data(data)
                    .enter()
                    .append("path")
                    .attr("class", "circ-bar")
                    .attr("fill", function(d) {
                        if (selected_group.includes(d[0]))
                            return "#d2d918"
                        else
                            return "#69b3a2"
                    })
                    .attr("d", d3v4.arc() // imagine your doing a part of a donut plot
                        .innerRadius(innerRadius)
                        .outerRadius(function(d) {
                            return (y(d[1]) * 0.1);
                        })
                        .startAngle(function(d) {
                            return x(d[2]);
                        })
                        .endAngle(function(d) {
                            return x(d[2]) + x.bandwidth();
                        })
                        .padAngle(0.01)
                        .padRadius(innerRadius))
                var tip = d3v4.tip()
                    .attr('class', 'd3-tip')
                    .offset([-10, 0])
                    .html(function(d) {

                        return '<strong>' + d[2] + '</strong><br/><strong>' + Math.round(d[1]) + '</strong>';
                    })
                svg.call(tip);

                d3v4.selectAll(".circ-bar")
                    .on('mouseover', d => tip.show(d))
                    .on('mouseout', tip.hide)

                // Add the labels
                svg.append("g")
                    .selectAll("g")
                    .data(data)
                    .enter()
                    .append("g")
                    .attr("text-anchor", function(d) {
                        return (x(d[2]) + x.bandwidth() / 2 + Math.PI) % (2 * Math.PI) < Math.PI ? "end" : "start";
                    })
                    .attr("transform", function(d) {
                        return "rotate(" + ((x(d[2]) + x.bandwidth() / 2) * 180 / Math.PI - 90) + ")" + "translate(" + ((y(d[1]) * 0.1) + 10) + ",0)";
                    })
                    .append("text")
                    .attr("fill", function(d) {
                        if (selected_group.includes(d[0]))
                            return "#d2d918"
                        else
                            return "white"
                    })
                    .text(function(d) {
                        return (d[0])
                    })
                    .attr("transform", function(d) {
                        return (x(d[2]) + x.bandwidth() / 2 + Math.PI) % (2 * Math.PI) < Math.PI ? "rotate(180)" : "rotate(0)";
                    })
                    .style("font-size", "11px")
                    .attr("alignment-baseline", "middle")

            });
        }

        function removeCircular() {
            $("#circ-svg").remove()
        }

        function updateCircular() {
            removeCircular()
            drawCircular()
        }
    </script>



    <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2000" style="position: absolute; top: 1rem; right: 1rem;">
        <div class="toast-header">

            <strong class="mr-auto">Bootstrap</strong>
            <small class="time-indicator"> 12:49</small>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body">
            Hello, world! This is a toast message.
        </div>
    </div>

    <footer id="sticky-footer" class=" bg-dark text-white-50">
        <div class="container text-center">
            <small>Source: Sipri (www.sipri.org) and Data WorldBank (www.data.worldbank.org)</small><br/>
            <small>Copyright &copy; WarInspector</small>
        </div>
    </footer>


    <!------ Include the above in your HEAD tag ---------->

    <div id="wrapper">
        <div class="overlay"></div>

        <!-- Sidebar -->
        <nav class="navbar fixed-top navbar-dark bg-dark" id="sidebar-wrapper" role="navigation">
            <ul class="nav sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">
                           Brand
                        </a>
                </li>
                <li style="background-color:  #ec1b5a;">
                    <a href="/">Home</a>
                </li>

                <li>
                    <a href="/weapons">Weapons</a>
                </li>
                <li>
                    <a href="/countries">Countries info</a>
                </li>

                <li>
                    <a href="/about">About</a>
                </li>
                <li>
                    <a href="https://github.com/GiuppoUni/global-military-trade-visual">Github</a>
                </li>
            </ul>
        </nav>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->

        <!-- /#page-content-wrapper -->

    </div>
    <script>
        $(window).on("load", function() {
            // $(".bs-select-all").on('click', function() {
            //     // alert("ALL SELECTED");
            //     selectAllCountries()
            // });
            console.log($(".bs-select-all").html())
            $(".bs-select-all").remove()
            $(".bs-deselect-all").on('click', function() {
                // alert("ALL DESELECTED");
                resetSelect()
                updateCircular()
            });

        });
    </script>
    <div id="pca-test"></div>
</body>


</html>